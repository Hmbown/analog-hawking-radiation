# README Images: Public Tracking and Regeneration Guide

## Purpose

This document explains which images are tracked in git for public README consumption, how to regenerate them, and why this approach was chosen.

## Directory Structure

```
figures/          # Gitignored - temporary generation location
docs/img/         # Git-tracked - public README images
results/samples/  # Git-tracked - representative data outputs
```

## Tracked Images in docs/img/

The following 12 images are tracked in git and used in the public README:

### 1. Core Workflow
- **workflow_diagram.png** - Hero diagram showing complete pipeline
  - Generated by: `scripts/generate_workflow_diagram.py`
  - Purpose: Visual overview of entire framework
  - Size: ~300 KB

### 2. Hybrid Method Results (Primary Innovation)
- **hybrid_apples_to_apples.png** - Spectral comparison (fluid vs. hybrid)
  - Generated by: `scripts/compare_hybrid_apples_to_apples.py`
  - Purpose: Shows 16× detection improvement with identical normalization
  - Size: ~76 KB

- **hybrid_t5_ratio_map.png** - Parameter sweep heatmap
  - Generated by: `scripts/sweep_hybrid_params.py`
  - Purpose: Demonstrates robust improvements across parameter space
  - Size: ~58 KB

### 3. Formation Analysis
- **formation_frontier.png** - Intensity thresholds vs. density/temperature
  - Generated by: `scripts/compute_formation_frontier.py`
  - Purpose: Identifies achievable parameter regions for horizon formation
  - Size: ~73 KB

### 4. Detection Feasibility
- **radio_snr_from_qft.png** - Time-to-5σ detection heatmap
  - Generated by: `scripts/radio_snr_from_qft.py`
  - Purpose: Integration time requirements from QFT spectra
  - Size: ~variable (needs regeneration)

### 5. Physics Validation
- **graybody_impact.png** - Profile-derived vs. fallback transmission
  - Generated by: `scripts/run_full_pipeline.py` (graybody diagnostics)
  - Purpose: Shows importance of realistic near-horizon physics
  - Size: ~65 KB

### 6. Multi-Beam Geometry
- **geometry_vs_kappa.png** - Enhancement factors for beam geometries
  - Generated by: `scripts/geometry_optimize_kappa.py`
  - Purpose: Optimal configuration identification
  - Size: ~52 KB

- **enhancement_bar.png** - Quantified enhancement bar chart
  - Generated by: `scripts/sweep_shapes.py`
  - Purpose: Direct comparison of geometry performance
  - Size: ~136 KB

### 7. Sound Speed Effects
- **cs_profile_impact.png** - Position-dependent temperature profiles
  - Generated by: `scripts/analyze_cs_profile_impact.py`
  - Purpose: Demonstrates importance of realistic c_s(x) modeling
  - Size: ~174 KB

### 8. Statistical Robustness
- **horizon_probability_bands.png** - Monte Carlo uncertainty quantification
  - Generated by: `scripts/monte_carlo_horizon_uncertainty.py`
  - Purpose: Formation probability and κ distributions
  - Size: ~66 KB

### 9. Parameter Space Guidance
- **bayesian_guidance_map.png** - Bayesian optimization map
  - Generated by: `scripts/generate_guidance_map.py`
  - Purpose: High-merit experimental regions
  - Size: ~82 KB

- **optimal_glow_parameters.png** - "Where to look" guidance
  - Generated by: `scripts/generate_guidance_map.py`
  - Purpose: Efficient parameter space exploration
  - Size: ~variable (needs checking)

## Why docs/img/ Instead of figures/?

**Problem**: The `figures/` directory is gitignored because it contains many temporary, generated outputs that change frequently and are not suitable for version control.

**Solution**: Curated images essential for README comprehension are copied to `docs/img/` and tracked in git.

**Benefits**:
1. ✅ **Immediate visibility**: Images work on GitHub without requiring users to run scripts
2. ✅ **Stable references**: Image links in README don't break
3. ✅ **Selective tracking**: Only essential visuals (12 images) are tracked, not all generated content
4. ✅ **Clear separation**: Temporary outputs (figures/) vs. public assets (docs/img/)

## Regenerating All Images

### Quick Regeneration

```bash
# Generate all figures and copy to docs/img/ (one command)
make readme-images
```

This will:
1. Run all figure generation scripts in sequence
2. Copy resulting PNGs from `figures/` to `docs/img/`
3. Report which images were successfully copied

### Manual Regeneration

If you need to regenerate specific images:

```bash
# Workflow diagram
python scripts/generate_workflow_diagram.py
cp figures/workflow_diagram.png docs/img/

# Hybrid comparison
python scripts/compare_hybrid_apples_to_apples.py
cp figures/hybrid_apples_to_apples.png docs/img/

# Parameter sweep
python scripts/sweep_hybrid_params.py
cp figures/hybrid_t5_ratio_map.png docs/img/

# Formation frontier
python scripts/compute_formation_frontier.py
cp figures/formation_frontier.png docs/img/

# Radio detection times
python scripts/radio_snr_from_qft.py
cp figures/radio_snr_from_qft.png docs/img/

# Graybody analysis (part of full pipeline)
python scripts/run_full_pipeline.py --demo
cp figures/graybody_impact.png docs/img/

# Geometry optimization
python scripts/geometry_optimize_kappa.py
cp figures/geometry_vs_kappa.png docs/img/

# Statistical analysis
python scripts/monte_carlo_horizon_uncertainty.py
cp figures/horizon_probability_bands.png docs/img/

# Bayesian guidance
python scripts/generate_guidance_map.py
cp figures/bayesian_guidance_map.png docs/img/
cp figures/optimal_glow_parameters.png docs/img/

# Sound speed impact
python scripts/analyze_cs_profile_impact.py
cp figures/cs_profile_impact.png docs/img/

# Multi-beam enhancement
python scripts/sweep_shapes.py
cp figures/enhancement_bar.png docs/img/
```

### Verification

Check that all README images exist:

```bash
make check-readme-images
```

This will report which images are present (✓) or missing (✗).

## Image Size Guidelines

**Target**: Keep each image under 500 KB for fast loading on GitHub.

**Current sizes** (approximate):
- workflow_diagram.png: ~300 KB
- hybrid_apples_to_apples.png: ~76 KB
- hybrid_t5_ratio_map.png: ~58 KB
- formation_frontier.png: ~73 KB
- graybody_impact.png: ~65 KB
- geometry_vs_kappa.png: ~52 KB
- enhancement_bar.png: ~136 KB (largest)
- cs_profile_impact.png: ~174 KB
- horizon_probability_bands.png: ~66 KB
- bayesian_guidance_map.png: ~82 KB

**Total**: ~1.0 MB for all 12 images (very reasonable for git tracking)

## Updating Images

When you make changes that affect visualizations:

1. **Regenerate locally**:
   ```bash
   make readme-images
   ```

2. **Verify changes**:
   ```bash
   make check-readme-images
   git status docs/img/
   ```

3. **Commit updates**:
   ```bash
   git add docs/img/
   git commit -m "docs(img): update README figures with [description]"
   ```

## Images NOT Tracked

The following generated images are NOT tracked (remain in gitignored `figures/`):
- `horizon_analysis_profile_*.png` - Profile visualizations (many variants)
- `horizon_analysis_detection_time*.png` - Alternative time analysis plots
- `horizon_analysis_*_map.png` - Alternative parameter maps
- `radio_snr_sweep.png` - Exploratory SNR analysis
- `match_delta_geometries.png` - Geometry comparison details
- Any other exploratory/intermediate figures

These are valuable for detailed analysis but not essential for README comprehension.

## Troubleshooting

### Image not appearing in README
1. Check file exists: `ls docs/img/your_image.png`
2. Check path in README uses `docs/img/` prefix
3. Verify image is tracked: `git ls-files docs/img/`
4. If missing, regenerate with `make readme-images`

### Image appears corrupted or outdated
1. Regenerate: `make readme-images`
2. Check file size: `ls -lh docs/img/your_image.png`
3. View locally to confirm quality
4. Commit updated version

### Script fails during regeneration
1. Check dependencies installed: `pip install -e .`
2. Verify input data exists (e.g., `results/samples/`)
3. Check script-specific requirements in `CLAUDE.md`
4. Run individual script with error reporting

## Related Documentation

- `docs/IMAGES_OVERVIEW.md` - Complete figure inventory including non-README images
- `Makefile` - Automation targets for figure generation
- `CLAUDE.md` - Development guidelines and script purposes
- `.gitignore` - Explains why `figures/` is ignored but `docs/img/` is tracked

---

**Last Updated**: October 2025
**Maintainer**: See CONTRIBUTING.md

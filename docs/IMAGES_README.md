# README Images: Public Tracking and Regeneration Guide

## Purpose

This document explains which images are tracked in git for public README consumption, how to regenerate them, and why this approach was chosen.

## Directory Structure

```
figures/          # Gitignored - temporary generation location
docs/img/         # Git-tracked - public README images
results/samples/  # Git-tracked - representative data outputs
```

## Tracked Image in docs/img/

The public README tracks a single curated image:

- **workflow_diagram.png** — Hero diagram showing the complete pipeline
  - Generated by: `scripts/generate_workflow_diagram.py`
  - Purpose: Visual overview of the framework
  - Typical size: < 500 KB

## Why docs/img/ Instead of figures/?

**Problem**: The `figures/` directory is gitignored because it contains many temporary, generated outputs that change frequently and are not suitable for version control.

**Solution**: Curated images essential for README comprehension are copied to `docs/img/` and tracked in git.

**Benefits**:
1. ✅ **Immediate visibility**: Images work on GitHub without requiring users to run scripts
2. ✅ **Stable references**: Image links in README don't break
3. ✅ **Selective tracking**: Only the essential visual (1 image) is tracked, not all generated content
4. ✅ **Clear separation**: Temporary outputs (figures/) vs. public assets (docs/img/)

## Regenerating README Image

```bash
# Generate the README workflow diagram and copy it to docs/img/
make readme-images
```

This will:
1. Run the workflow diagram generator
2. Copy `figures/workflow_diagram.png` to `docs/img/`
3. Report copy status

### Verification

Check that all README images exist:

```bash
make check-readme-images
```

This will report which images are present (✓) or missing (✗).

## Image Size Guidelines

- **Target**: Keep each tracked image under 500 KB for fast loading on GitHub.


## Updating Images

When you make changes that affect visualizations:

1. **Regenerate locally**:
   ```bash
   make readme-images
   ```

2. **Verify changes**:
   ```bash
   make check-readme-images
   git status docs/img/
   ```

3. **Commit updates**:
   ```bash
   git add docs/img/
   git commit -m "docs(img): update README figures with [description]"
   ```

## Images NOT Tracked

The following generated images are NOT tracked (remain in gitignored `figures/`):
- Parameter sweeps and heatmaps
- Profile visualizations and alternative analysis plots
- Exploratory/intermediate figures

These remain reproducible via scripts but are not used in the README to avoid over-interpretation and visual overload.

## Troubleshooting

### Image not appearing in README
1. Check file exists: `ls docs/img/your_image.png`
2. Check path in README uses `docs/img/` prefix
3. Verify image is tracked: `git ls-files docs/img/`
4. If missing, regenerate with `make readme-images`

### Image appears corrupted or outdated
1. Regenerate: `make readme-images`
2. Check file size: `ls -lh docs/img/your_image.png`
3. View locally to confirm quality
4. Commit updated version

### Script fails during regeneration
1. Check dependencies installed: `pip install -e .`
2. Verify input data exists (e.g., `results/samples/`)
3. Check script-specific requirements in `CLAUDE.md`
4. Run individual script with error reporting

## Related Documentation

- `docs/IMAGES_OVERVIEW.md` - Complete figure inventory including non-README images
- `Makefile` - Automation targets for figure generation
- `CLAUDE.md` - Development guidelines and script purposes
- `.gitignore` - Explains why `figures/` is ignored but `docs/img/` is tracked

---

**Last Updated**: October 2025
**Maintainer**: See CONTRIBUTING.md
